/*!
 * w-email v1.0.29
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("nodemailer")):"function"==typeof define&&define.amd?define(["nodemailer"],r):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-email"]=r(t.nodemailer)}(this,(function(t){"use strict";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=Array.isArray,n="object"==typeof r&&r&&r.Object===Object&&r,o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")(),a=i.Symbol,u=a,c=Object.prototype,s=c.hasOwnProperty,l=c.toString,f=u?u.toStringTag:void 0;var p=function(t){var r=s.call(t,f),e=t[f];try{t[f]=void 0;var n=!0}catch(t){}var o=l.call(t);return n&&(r?t[f]=e:delete t[f]),o},v=Object.prototype.toString;var h=p,y=function(t){return v.call(t)},d=a?a.toStringTag:void 0;var _=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":d&&d in Object(t)?h(t):y(t)};var b=_,g=function(t){return null!=t&&"object"==typeof t};var j=function(t){return"symbol"==typeof t||g(t)&&"[object Symbol]"==b(t)},m=e,w=j,O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/;var z=function(t,r){if(m(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!w(t))||(S.test(t)||!O.test(t)||null!=r&&t in Object(r))};var $=function(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)},P=_,T=$;var C,E=function(t){if(!T(t))return!1;var r=P(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},A=i["__core-js_shared__"],x=(C=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"";var F=function(t){return!!x&&x in t},I=Function.prototype.toString;var k=E,M=F,N=$,R=function(t){if(null!=t){try{return I.call(t)}catch(t){}try{return t+""}catch(t){}}return""},q=/^\[object .+?Constructor\]$/,B=Function.prototype,G=Object.prototype,H=B.toString,U=G.hasOwnProperty,W=RegExp("^"+H.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var D=function(t){return!(!N(t)||M(t))&&(k(t)?W:q).test(R(t))},J=function(t,r){return null==t?void 0:t[r]};var K=function(t,r){var e=J(t,r);return D(e)?e:void 0},L=K(Object,"create"),Q=L;var V=function(){this.__data__=Q?Q(null):{},this.size=0};var X=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},Y=L,Z=Object.prototype.hasOwnProperty;var tt=function(t){var r=this.__data__;if(Y){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return Z.call(r,t)?r[t]:void 0},rt=L,et=Object.prototype.hasOwnProperty;var nt=L;var ot=V,it=X,at=tt,ut=function(t){var r=this.__data__;return rt?void 0!==r[t]:et.call(r,t)},ct=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=nt&&void 0===r?"__lodash_hash_undefined__":r,this};function st(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}st.prototype.clear=ot,st.prototype.delete=it,st.prototype.get=at,st.prototype.has=ut,st.prototype.set=ct;var lt=st;var ft=function(){this.__data__=[],this.size=0};var pt=function(t,r){return t===r||t!=t&&r!=r};var vt=function(t,r){for(var e=t.length;e--;)if(pt(t[e][0],r))return e;return-1},ht=vt,yt=Array.prototype.splice;var dt=vt;var _t=vt;var bt=vt;var gt=ft,jt=function(t){var r=this.__data__,e=ht(r,t);return!(e<0)&&(e==r.length-1?r.pop():yt.call(r,e,1),--this.size,!0)},mt=function(t){var r=this.__data__,e=dt(r,t);return e<0?void 0:r[e][1]},wt=function(t){return _t(this.__data__,t)>-1},Ot=function(t,r){var e=this.__data__,n=bt(e,t);return n<0?(++this.size,e.push([t,r])):e[n][1]=r,this};function St(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}St.prototype.clear=gt,St.prototype.delete=jt,St.prototype.get=mt,St.prototype.has=wt,St.prototype.set=Ot;var zt=St,$t=K(i,"Map"),Pt=lt,Tt=zt,Ct=$t;var Et=function(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t};var At=function(t,r){var e=t.__data__;return Et(r)?e["string"==typeof r?"string":"hash"]:e.map},xt=At;var Ft=At;var It=At;var kt=At;var Mt=function(){this.size=0,this.__data__={hash:new Pt,map:new(Ct||Tt),string:new Pt}},Nt=function(t){var r=xt(this,t).delete(t);return this.size-=r?1:0,r},Rt=function(t){return Ft(this,t).get(t)},qt=function(t){return It(this,t).has(t)},Bt=function(t,r){var e=kt(this,t),n=e.size;return e.set(t,r),this.size+=e.size==n?0:1,this};function Gt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}Gt.prototype.clear=Mt,Gt.prototype.delete=Nt,Gt.prototype.get=Rt,Gt.prototype.has=qt,Gt.prototype.set=Bt;var Ht=Gt;function Ut(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var e=function(){var n=arguments,o=r?r.apply(this,n):n[0],i=e.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return e.cache=i.set(o,a)||i,a};return e.cache=new(Ut.Cache||Ht),e}Ut.Cache=Ht;var Wt=Ut;var Dt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jt=/\\(\\)?/g,Kt=function(t){var r=Wt(t,(function(t){return 500===e.size&&e.clear(),t})),e=r.cache;return r}((function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(Dt,(function(t,e,n,o){r.push(n?o.replace(Jt,"$1"):e||t)})),r}));var Lt=function(t,r){for(var e=-1,n=null==t?0:t.length,o=Array(n);++e<n;)o[e]=r(t[e],e,t);return o},Qt=e,Vt=j,Xt=a?a.prototype:void 0,Yt=Xt?Xt.toString:void 0;var Zt=function t(r){if("string"==typeof r)return r;if(Qt(r))return Lt(r,t)+"";if(Vt(r))return Yt?Yt.call(r):"";var e=r+"";return"0"==e&&1/r==-Infinity?"-0":e},tr=Zt;var rr=e,er=z,nr=Kt,or=function(t){return null==t?"":tr(t)};var ir=j;var ar=function(t,r){return rr(t)?t:er(t,r)?[t]:nr(or(t))},ur=function(t){if("string"==typeof t||ir(t))return t;var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r};var cr=function(t,r){for(var e=0,n=(r=ar(r,t)).length;null!=t&&e<n;)t=t[ur(r[e++])];return e&&e==n?t:void 0};var sr=function(t,r,e){var n=null==t?void 0:cr(t,r);return void 0===n?e:n};function lr(t){return"[object String]"===Object.prototype.toString.call(t)}function fr(t){return!(!lr(r=t)||""===r)&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t);var r}return function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=function(){let t,r,e=new Promise((function(){t=arguments[0],r=arguments[1]}));return e.resolve=t,e.reject=r,e}(),n=sr(r,"srcName","system by w-email"),o=sr(r,"srcEmail","");if(!fr(o))return e.reject("srcEmail is not email"),e;let i=sr(r,"srcPW",""),a=sr(r,"srcHost","smtp.gmail.com"),u=sr(r,"srcPort",465),c=sr(r,"emTitle",""),s=sr(r,"emContent",""),l=sr(r,"emAttachments",[]);var f;f=l,"[object Object]"===Object.prototype.toString.call(f)&&(l=[l]);let p=sr(r,"toEmails",[]);lr(p)&&(p=[p]);let v=sr(r,"toEmailsCC",[]);lr(v)&&(v=[v]);let h=sr(r,"toEmailsBCC",[]);lr(h)&&(h=[h]);let y=t.createTransport({host:a,port:u,auth:{user:o,pass:i},secure:465===u}),d={from:`${n} <${o}>`,to:p.join(","),cc:v.join(","),bcc:h.join(","),subject:c,html:s,attachments:l};return y.sendMail(d,(function(t,r){t?e.reject(t):e.resolve(r.response)})),e}}));
//# sourceMappingURL=w-email.umd.js.map
