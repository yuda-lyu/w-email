/*!
 * w-email v1.0.22
 * (c) 2018-2019 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("nodemailer")):"function"==typeof define&&define.amd?define(["nodemailer"],r):(t=t||self)["w-email"]=r(t.nodemailer)}(this,(function(t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var r=Array.isArray,e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var n=function(t,r){return t(r={exports:{}},r.exports),r.exports}((function(t){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(t){return typeof t}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(e)}t.exports=r})),o="object"==n(e)&&e&&e.Object===Object&&e,i="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,a=o||i||Function("return this")(),u=a.Symbol,c=Object.prototype,s=c.hasOwnProperty,l=c.toString,f=u?u.toStringTag:void 0;var p=function(t){var r=s.call(t,f),e=t[f];try{t[f]=void 0;var n=!0}catch(t){}var o=l.call(t);return n&&(r?t[f]=e:delete t[f]),o},v=Object.prototype.toString;var h=function(t){return v.call(t)},y=u?u.toStringTag:void 0;var d=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":y&&y in Object(t)?p(t):h(t)};var _=function(t){return null!=t&&"object"==n(t)};var b=function(t){return"symbol"==n(t)||_(t)&&"[object Symbol]"==d(t)},m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;var j=function(t,e){if(r(t))return!1;var o=n(t);return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=t&&!b(t))||(g.test(t)||!m.test(t)||null!=e&&t in Object(e))};var w=function(t){var r=n(t);return null!=t&&("object"==r||"function"==r)};var O,S=function(t){if(!w(t))return!1;var r=d(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},x=a["__core-js_shared__"],z=(O=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"";var P=function(t){return!!z&&z in t},$=Function.prototype.toString;var C=function(t){if(null!=t){try{return $.call(t)}catch(t){}try{return t+""}catch(t){}}return""},E=/^\[object .+?Constructor\]$/,T=Function.prototype,A=Object.prototype,F=T.toString,k=A.hasOwnProperty,M=RegExp("^"+F.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var N=function(t){return!(!w(t)||P(t))&&(S(t)?M:E).test(C(t))};var R=function(t,r){return null==t?void 0:t[r]};var q=function(t,r){var e=R(t,r);return N(e)?e:void 0},B=q(Object,"create");var G=function(){this.__data__=B?B(null):{},this.size=0};var H=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},I=Object.prototype.hasOwnProperty;var U=function(t){var r=this.__data__;if(B){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return I.call(r,t)?r[t]:void 0},W=Object.prototype.hasOwnProperty;var D=function(t){var r=this.__data__;return B?void 0!==r[t]:W.call(r,t)};var J=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=B&&void 0===r?"__lodash_hash_undefined__":r,this};function K(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}K.prototype.clear=G,K.prototype.delete=H,K.prototype.get=U,K.prototype.has=D,K.prototype.set=J;var L=K;var Q=function(){this.__data__=[],this.size=0};var V=function(t,r){return t===r||t!=t&&r!=r};var X=function(t,r){for(var e=t.length;e--;)if(V(t[e][0],r))return e;return-1},Y=Array.prototype.splice;var Z=function(t){var r=this.__data__,e=X(r,t);return!(e<0)&&(e==r.length-1?r.pop():Y.call(r,e,1),--this.size,!0)};var tt=function(t){var r=this.__data__,e=X(r,t);return e<0?void 0:r[e][1]};var rt=function(t){return X(this.__data__,t)>-1};var et=function(t,r){var e=this.__data__,n=X(e,t);return n<0?(++this.size,e.push([t,r])):e[n][1]=r,this};function nt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}nt.prototype.clear=Q,nt.prototype.delete=Z,nt.prototype.get=tt,nt.prototype.has=rt,nt.prototype.set=et;var ot=nt,it=q(a,"Map");var at=function(){this.size=0,this.__data__={hash:new L,map:new(it||ot),string:new L}};var ut=function(t){var r=n(t);return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t};var ct=function(t,r){var e=t.__data__;return ut(r)?e["string"==typeof r?"string":"hash"]:e.map};var st=function(t){var r=ct(this,t).delete(t);return this.size-=r?1:0,r};var lt=function(t){return ct(this,t).get(t)};var ft=function(t){return ct(this,t).has(t)};var pt=function(t,r){var e=ct(this,t),n=e.size;return e.set(t,r),this.size+=e.size==n?0:1,this};function vt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}vt.prototype.clear=at,vt.prototype.delete=st,vt.prototype.get=lt,vt.prototype.has=ft,vt.prototype.set=pt;var ht=vt;function yt(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var e=function e(){var n=arguments,o=r?r.apply(this,n):n[0],i=e.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return e.cache=i.set(o,a)||i,a};return e.cache=new(yt.Cache||ht),e}yt.Cache=ht;var dt=yt;var _t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bt=/\\(\\)?/g,mt=function(t){var r=dt(t,(function(t){return 500===e.size&&e.clear(),t})),e=r.cache;return r}((function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(_t,(function(t,e,n,o){r.push(n?o.replace(bt,"$1"):e||t)})),r}));var gt=function(t,r){for(var e=-1,n=null==t?0:t.length,o=Array(n);++e<n;)o[e]=r(t[e],e,t);return o},jt=u?u.prototype:void 0,wt=jt?jt.toString:void 0;var Ot=function t(e){if("string"==typeof e)return e;if(r(e))return gt(e,t)+"";if(b(e))return wt?wt.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};var St=function(t){return null==t?"":Ot(t)};var xt=function(t,e){return r(t)?t:j(t,e)?[t]:mt(St(t))};var zt=function(t){if("string"==typeof t||b(t))return t;var r=t+"";return"0"==r&&1/t==-1/0?"-0":r};var Pt=function(t,r){for(var e=0,n=(r=xt(r,t)).length;null!=t&&e<n;)t=t[zt(r[e++])];return e&&e==n?t:void 0};var $t=function(t,r,e){var n=null==t?void 0:Pt(t,r);return void 0===n?e:n};function Ct(){var t,r,e=new Promise((function(){t=arguments[0],r=arguments[1]}));return e.resolve=t,e.reject=r,e}function Et(t){return"[object String]"===Object.prototype.toString.call(t)}function Tt(t){return"[object Object]"===Object.prototype.toString.call(t)}function At(t){return!(!Et(r=t)||""===r)&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t);var r}return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Ct(),n=$t(r,"srcName","system by w-email"),o=$t(r,"srcEmail","");if(!At(o))return e.reject("srcEmail is not email"),e;var i=$t(r,"srcPW",""),a=$t(r,"srcHost","smtp.gmail.com"),u=$t(r,"srcPort",465),c=$t(r,"emTitle",""),s=$t(r,"emContent",""),l=$t(r,"emAttachments",[]);Tt(l)&&(l=[l]);var f=$t(r,"toEmails",[]);Et(f)&&(f=[f]);var p=$t(r,"toEmailsCC",[]);Et(p)&&(p=[p]);var v=$t(r,"toEmailsBCC",[]);Et(v)&&(v=[v]);var h=t.createTransport({host:a,port:u,auth:{user:o,pass:i},secure:465===u}),y={from:"".concat(n," <").concat(o,">"),to:f.join(","),cc:p.join(","),bcc:v.join(","),subject:c,html:s,attachments:l};return h.sendMail(y,(function(t,r){t?e.reject(t):e.resolve(r.response)})),e}}));
//# sourceMappingURL=w-email.umd.js.map
