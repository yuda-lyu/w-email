/*!
 * w-email v1.0.33
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("nodemailer")):"function"==typeof define&&define.amd?define(["nodemailer"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-email"]=e(t.nodemailer)}(this,(function(t){"use strict";var e=Array.isArray,r="object"==typeof global&&global&&global.Object===Object&&global,n="object"==typeof self&&self&&self.Object===Object&&self,o=r||n||Function("return this")(),i=o.Symbol,a=Object.prototype,c=a.hasOwnProperty,u=a.toString,s=i?i.toStringTag:void 0;var l=Object.prototype.toString;var f="[object Null]",p="[object Undefined]",h=i?i.toStringTag:void 0;function v(t){return null==t?void 0===t?p:f:h&&h in Object(t)?function(t){var e=c.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var o=u.call(t);return n&&(e?t[s]=r:delete t[s]),o}(t):function(t){return l.call(t)}(t)}var _="[object Symbol]";function y(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&v(t)==_}var d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b=/^\w*$/;function g(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var j="[object AsyncFunction]",m="[object Function]",O="[object GeneratorFunction]",w="[object Proxy]";var S,z=o["__core-js_shared__"],$=(S=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"";var P=Function.prototype.toString;var C=/^\[object .+?Constructor\]$/,E=Function.prototype,T=Object.prototype,A=E.toString,x=T.hasOwnProperty,F=RegExp("^"+A.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function k(t){if(!g(t)||(e=t,$&&$ in e))return!1;var e,r=function(t){if(!g(t))return!1;var e=v(t);return e==m||e==O||e==j||e==w}(t)?F:C;return r.test(function(t){if(null!=t){try{return P.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function M(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return k(r)?r:void 0}var N=M(Object,"create");var R=Object.prototype.hasOwnProperty;var q=Object.prototype.hasOwnProperty;function B(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function G(t,e){for(var r,n,o=t.length;o--;)if((r=t[o][0])===(n=e)||r!=r&&n!=n)return o;return-1}B.prototype.clear=function(){this.__data__=N?N(null):{},this.size=0},B.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},B.prototype.get=function(t){var e=this.__data__;if(N){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return R.call(e,t)?e[t]:void 0},B.prototype.has=function(t){var e=this.__data__;return N?void 0!==e[t]:q.call(e,t)},B.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=N&&void 0===e?"__lodash_hash_undefined__":e,this};var H=Array.prototype.splice;function I(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}I.prototype.clear=function(){this.__data__=[],this.size=0},I.prototype.delete=function(t){var e=this.__data__,r=G(e,t);return!(r<0)&&(r==e.length-1?e.pop():H.call(e,r,1),--this.size,!0)},I.prototype.get=function(t){var e=this.__data__,r=G(e,t);return r<0?void 0:e[r][1]},I.prototype.has=function(t){return G(this.__data__,t)>-1},I.prototype.set=function(t,e){var r=this.__data__,n=G(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var U=M(o,"Map");function W(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function D(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}D.prototype.clear=function(){this.size=0,this.__data__={hash:new B,map:new(U||I),string:new B}},D.prototype.delete=function(t){var e=W(this,t).delete(t);return this.size-=e?1:0,e},D.prototype.get=function(t){return W(this,t).get(t)},D.prototype.has=function(t){return W(this,t).has(t)},D.prototype.set=function(t,e){var r=W(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};var J="Expected a function";function K(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(J);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(K.Cache||D),r}K.Cache=D;var L,Q,V,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/\\(\\)?/g,Z=(L=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(X,(function(t,r,n,o){e.push(n?o.replace(Y,"$1"):r||t)})),e},Q=K(L,(function(t){return 500===V.size&&V.clear(),t})),V=Q.cache,Q),tt=Z;var et=1/0,rt=i?i.prototype:void 0,nt=rt?rt.toString:void 0;function ot(t){if("string"==typeof t)return t;if(e(t))return function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}(t,ot)+"";if(y(t))return nt?nt.call(t):"";var r=t+"";return"0"==r&&1/t==-et?"-0":r}function it(t,r){return e(t)?t:function(t,r){if(e(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!y(t))||b.test(t)||!d.test(t)||null!=r&&t in Object(r)}(t,r)?[t]:tt(function(t){return null==t?"":ot(t)}(t))}var at=1/0;function ct(t){if("string"==typeof t||y(t))return t;var e=t+"";return"0"==e&&1/t==-at?"-0":e}function ut(t,e,r){var n=null==t?void 0:function(t,e){for(var r=0,n=(e=it(e,t)).length;null!=t&&r<n;)t=t[ct(e[r++])];return r&&r==n?t:void 0}(t,e);return void 0===n?r:n}function st(t){return"[object String]"===Object.prototype.toString.call(t)}function lt(t){return!(!st(e=t)||""===e)&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t);var e}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=function(){let t,e,r=new Promise((function(){t=arguments[0],e=arguments[1]}));return r.resolve=t,r.reject=e,r}(),n=ut(e,"srcName","system by w-email"),o=ut(e,"srcEmail","");if(!lt(o))return r.reject("srcEmail is not email"),r;let i=ut(e,"srcPW",""),a=ut(e,"srcHost","smtp.gmail.com"),c=ut(e,"srcPort",465),u=ut(e,"emTitle",""),s=ut(e,"emContent",""),l=ut(e,"emAttachments",[]);var f;f=l,"[object Object]"===Object.prototype.toString.call(f)&&(l=[l]);let p=ut(e,"toEmails",[]);st(p)&&(p=[p]);let h=ut(e,"toEmailsCC",[]);st(h)&&(h=[h]);let v=ut(e,"toEmailsBCC",[]);st(v)&&(v=[v]);let _=t.createTransport({host:a,port:c,auth:{user:o,pass:i},secure:465===c}),y={from:`${n} <${o}>`,to:p.join(","),cc:h.join(","),bcc:v.join(","),subject:u,html:s,attachments:l};return _.sendMail(y,(function(t,e){t?r.reject(t):r.resolve(e.response)})),r}}));
//# sourceMappingURL=w-email.umd.js.map
