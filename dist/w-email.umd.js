/*!
 * w-email v1.0.25
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("nodemailer")):"function"==typeof define&&define.amd?define(["nodemailer"],r):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-email"]=r(t.nodemailer)}(this,(function(t){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var e=r(t),n=Array.isArray;function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a="object"==o(i)&&i&&i.Object===Object&&i,u="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,c=a||u||Function("return this")(),s=c.Symbol,l=Object.prototype,f=l.hasOwnProperty,v=l.toString,p=s?s.toStringTag:void 0;var h=function(t){var r=f.call(t,p),e=t[p];try{t[p]=void 0;var n=!0}catch(t){}var o=v.call(t);return n&&(r?t[p]=e:delete t[p]),o},y=Object.prototype.toString;var d=function(t){return y.call(t)},_=s?s.toStringTag:void 0;var b=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":_&&_ in Object(t)?h(t):d(t)};var m=function(t){return null!=t&&"object"==o(t)};var g=function(t){return"symbol"==o(t)||m(t)&&"[object Symbol]"==b(t)},j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,w=/^\w*$/;var O=function(t,r){if(n(t))return!1;var e=o(t);return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!g(t))||(w.test(t)||!j.test(t)||null!=r&&t in Object(r))};var S=function(t){var r=o(t);return null!=t&&("object"==r||"function"==r)};var z,P=function(t){if(!S(t))return!1;var r=b(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},T=c["__core-js_shared__"],$=(z=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"";var C=function(t){return!!$&&$ in t},E=Function.prototype.toString;var A=function(t){if(null!=t){try{return E.call(t)}catch(t){}try{return t+""}catch(t){}}return""},x=/^\[object .+?Constructor\]$/,F=Function.prototype,I=Object.prototype,k=F.toString,M=I.hasOwnProperty,N=RegExp("^"+k.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var R=function(t){return!(!S(t)||C(t))&&(P(t)?N:x).test(A(t))};var q=function(t,r){return null==t?void 0:t[r]};var B=function(t,r){var e=q(t,r);return R(e)?e:void 0},G=B(Object,"create");var H=function(){this.__data__=G?G(null):{},this.size=0};var U=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},W=Object.prototype.hasOwnProperty;var D=function(t){var r=this.__data__;if(G){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return W.call(r,t)?r[t]:void 0},J=Object.prototype.hasOwnProperty;var K=function(t){var r=this.__data__;return G?void 0!==r[t]:J.call(r,t)};var L=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=G&&void 0===r?"__lodash_hash_undefined__":r,this};function Q(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}Q.prototype.clear=H,Q.prototype.delete=U,Q.prototype.get=D,Q.prototype.has=K,Q.prototype.set=L;var V=Q;var X=function(){this.__data__=[],this.size=0};var Y=function(t,r){return t===r||t!=t&&r!=r};var Z=function(t,r){for(var e=t.length;e--;)if(Y(t[e][0],r))return e;return-1},tt=Array.prototype.splice;var rt=function(t){var r=this.__data__,e=Z(r,t);return!(e<0)&&(e==r.length-1?r.pop():tt.call(r,e,1),--this.size,!0)};var et=function(t){var r=this.__data__,e=Z(r,t);return e<0?void 0:r[e][1]};var nt=function(t){return Z(this.__data__,t)>-1};var ot=function(t,r){var e=this.__data__,n=Z(e,t);return n<0?(++this.size,e.push([t,r])):e[n][1]=r,this};function it(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}it.prototype.clear=X,it.prototype.delete=rt,it.prototype.get=et,it.prototype.has=nt,it.prototype.set=ot;var at=it,ut=B(c,"Map");var ct=function(){this.size=0,this.__data__={hash:new V,map:new(ut||at),string:new V}};var st=function(t){var r=o(t);return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t};var lt=function(t,r){var e=t.__data__;return st(r)?e["string"==typeof r?"string":"hash"]:e.map};var ft=function(t){var r=lt(this,t).delete(t);return this.size-=r?1:0,r};var vt=function(t){return lt(this,t).get(t)};var pt=function(t){return lt(this,t).has(t)};var ht=function(t,r){var e=lt(this,t),n=e.size;return e.set(t,r),this.size+=e.size==n?0:1,this};function yt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}yt.prototype.clear=ct,yt.prototype.delete=ft,yt.prototype.get=vt,yt.prototype.has=pt,yt.prototype.set=ht;var dt=yt;function _t(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var e=function e(){var n=arguments,o=r?r.apply(this,n):n[0],i=e.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return e.cache=i.set(o,a)||i,a};return e.cache=new(_t.Cache||dt),e}_t.Cache=dt;var bt=_t;var mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gt=/\\(\\)?/g,jt=function(t){var r=bt(t,(function(t){return 500===e.size&&e.clear(),t})),e=r.cache;return r}((function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(mt,(function(t,e,n,o){r.push(n?o.replace(gt,"$1"):e||t)})),r}));var wt=function(t,r){for(var e=-1,n=null==t?0:t.length,o=Array(n);++e<n;)o[e]=r(t[e],e,t);return o},Ot=s?s.prototype:void 0,St=Ot?Ot.toString:void 0;var zt=function t(r){if("string"==typeof r)return r;if(n(r))return wt(r,t)+"";if(g(r))return St?St.call(r):"";var e=r+"";return"0"==e&&1/r==-Infinity?"-0":e};var Pt=function(t){return null==t?"":zt(t)};var Tt=function(t,r){return n(t)?t:O(t,r)?[t]:jt(Pt(t))};var $t=function(t){if("string"==typeof t||g(t))return t;var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r};var Ct=function(t,r){for(var e=0,n=(r=Tt(r,t)).length;null!=t&&e<n;)t=t[$t(r[e++])];return e&&e==n?t:void 0};var Et=function(t,r,e){var n=null==t?void 0:Ct(t,r);return void 0===n?e:n};function At(){var t,r,e=new Promise((function(){t=arguments[0],r=arguments[1]}));return e.resolve=t,e.reject=r,e}function xt(t){return"[object String]"===Object.prototype.toString.call(t)}function Ft(t){return"[object Object]"===Object.prototype.toString.call(t)}function It(t){return!(!xt(r=t)||""===r)&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t);var r}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=At(),n=Et(t,"srcName","system by w-email"),o=Et(t,"srcEmail","");if(!It(o))return r.reject("srcEmail is not email"),r;var i=Et(t,"srcPW",""),a=Et(t,"srcHost","smtp.gmail.com"),u=Et(t,"srcPort",465),c=Et(t,"emTitle",""),s=Et(t,"emContent",""),l=Et(t,"emAttachments",[]);Ft(l)&&(l=[l]);var f=Et(t,"toEmails",[]);xt(f)&&(f=[f]);var v=Et(t,"toEmailsCC",[]);xt(v)&&(v=[v]);var p=Et(t,"toEmailsBCC",[]);xt(p)&&(p=[p]);var h=e.default.createTransport({host:a,port:u,auth:{user:o,pass:i},secure:465===u}),y={from:"".concat(n," <").concat(o,">"),to:f.join(","),cc:v.join(","),bcc:p.join(","),subject:c,html:s,attachments:l};return h.sendMail(y,(function(t,e){t?r.reject(t):r.resolve(e.response)})),r}}));
//# sourceMappingURL=w-email.umd.js.map
